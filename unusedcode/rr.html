<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Cache-control" content="public">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>sc.Dhamma.gift</title>
    <meta property="og:locale" content="ru_RU" />
    <meta property="og:type" content="article" />
 <!--   <script>  var link = document.createElement('meta');  link.setAttribute('property', 'og:title');  link.content = document.title;  document.getElementsByTagName('head')[0].appendChild(link);</script> 
 />-->   
   <meta property="og:description" content="Читайте Пали тексты с разными вариантами переводов">
  <meta property="og:title" content="sc.Dhamma.gift" />

    <meta property="og:site_name" content="sc.Dhamma.gift" />
    <meta property="og:image" itemprop="image"
        content="https://find.dhamma.gift/assets/img/favico_black.png" />
        
<meta property="og:url" content="/sc" />
<link rel="icon" type="image/png" sizes="32x32" href="https://find.dhamma.gift/assets/img/favico_black.png"> 

<link href="/assets/css/jquery-ui.min.css" rel="stylesheet"/> 
<link href="/assets/css/extrastyles.css" rel="stylesheet" />
<link rel="stylesheet" href="index.css">
<link rel="stylesheet" href="uiextra.css">
<script src="/assets/js/jquery-3.7.0.min.js"></script>
<script src="/assets/js/jquery-ui.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/gh/virtualvinodh/aksharamukha/aksharamukha-web-plugin/aksharamukha-v3.js?class=pli-lang"></script>
<script src="/assets/js/citationac.js"></script>
-->
<script src="/assets/js/audioLazyLoad.js"></script>
</head>

<body class="dark">

            <form id="form" class="ui-widget">
 
		<label class="sr-only dropup rounded-pill" for="paliauto"></label>
   
        <input id="paliauto" type="search" placeholder="Начните с sn56.11">
        <input id="searchbtn" class="go-button" type="submit" value="Go">
   
        <div id="home-button" class="icon-button">
       <a href="/ru/read.php" title="Sutta and Vinaya reading" rel="noreferrer">
    <img class="common-size-icon" src="/assets/svg/home-icon.svg"></img>   
         </a>
         </div>
  
       <div id="fdg-button" class="icon-button">
           <a  href="/ru" title="Sutta and Vinaya search" rel="noreferrer"
            ><img width="26px" alt="find.dhamma.gift icon" src="/assets/img/gray-white.png"></a>
      </div>
        <div id="theme-button" class="icon-button">
<img src="/assets/svg/circle-half-stroke.svg" onclick="switchIcon(this)" class="common-size-icon3 changesvg gray-icon"></img>
 </div> 
 
 <!-- Переключатель режимов -->
<div id="mode-switcher">
<a id="toggle-mode" href="javascript:void(0);" class="toggle-icon">
  <img src="/assets/svg/align-left.svg" class="common-size-icon4"></img>
</a>
 
 <div id="form-div"> 
 </div>
    </form>
    <br>
    <div id="navigation" class="navigation">
        <div id="previous"></div>
        <div id="next"></div>
    </div>
    <br>
    <div id="sutta">
    </div>
    <hr>
    <div id="navigation" class="navigation">
        <div id="previous2"></div>
        <div id="next2"></div>
    </div>

    <div class="links-area" style="text-align: center;">
        <a href="/ru" title="Sutta and Vinaya search" rel="noreferrer"
            ><img width="22px" alt="find.dhamma.gift icon" src="/assets/img/gray.png"></a>
      
<a href="/assets/makelist.html" title="Create Lists" rel="noreferrer">
	<svg fill="#383838" height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 487.3 487.3" xml:space="preserve">
<g>
	<g>
		<path d="M487.2,69.7c0,12.9-10.5,23.4-23.4,23.4h-322c-12.9,0-23.4-10.5-23.4-23.4s10.5-23.4,23.4-23.4h322.1
			C476.8,46.4,487.2,56.8,487.2,69.7z M463.9,162.3H141.8c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1
			c12.9,0,23.4-10.5,23.4-23.4C487.2,172.8,476.8,162.3,463.9,162.3z M463.9,278.3H141.8c-12.9,0-23.4,10.5-23.4,23.4
			s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,288.8,476.8,278.3,463.9,278.3z M463.9,394.3H141.8
			c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,404.8,476.8,394.3,463.9,394.3z
			 M38.9,30.8C17.4,30.8,0,48.2,0,69.7s17.4,39,38.9,39s38.9-17.5,38.9-39S60.4,30.8,38.9,30.8z M38.9,146.8
			C17.4,146.8,0,164.2,0,185.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,146.8,38.9,146.8z M38.9,262.8
			C17.4,262.8,0,280.2,0,301.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,262.8,38.9,262.8z M38.9,378.7
			C17.4,378.7,0,396.1,0,417.6s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9C77.8,396.2,60.4,378.7,38.9,378.7z"/>
	</g>
</g>
</svg>		
			</a>
<a href="/assets/diff" title="Compare two suttas" rel="noreferrer"
            ><img width="20px" alt="Diff icon" src="/ru/sc/images/favicon-black.png"></a>


 <a href="/ru/history.php" title="Search Histpry" rel="noreferrer"
            ><img width="20px" alt="History icon" src="/assets/svg/clock-rotate-left.svg"></a>           

   
<a href="/assets/linebyline.html" class="dynamic-link" title="Create Pali-Russ translation files" rel="noreferrer">
        <img width="20px" alt="JSON Formatter icon" src="/assets/svg/table-columns.svg">
    </a>
 	  <script src="/sc/urlForLbl.js"defer></script>
	  
        <a id="shareOnline" onclick="copyToClipboard()" title="Copy fdg url Suttas" rel="noreferrer" target=""><img
                height="20px" alt="" src="/assets/svg/copy.svg"></a>
                
        <!--    <a id="shareT2SElement" onclick="copyToClipboard(127)" title="Copy t2s url" rel="noreferrer" target=""><img
                height="20px" alt="" src="/assets/svg/solid-copy.svg"></a>     -->
        <a href="https://sutta.readingfaithfully.org" title="Citation Lookup Tool" rel="noreferrer" target="_blank"><img
                width="20px" src="./images/favicon-citaton-helper-black.png" alt="Citation Lookup tool icon"></a>
        <a href="https://name.readingfaithfully.org" title="Search for suttas by name" rel="noreferrer"
            target="_blank"><img width="20px" src="./images/favicon-name-black.png" alt="Sutta Name Search icon"></a>
        <a href="https://ped.readingfaithfully.org" title="A lightweight interface for the PED" rel="noreferrer"
            target="_blank"><img width="20px" src="./images/favicon-ped-black.png"
                alt="SuttaCentral.org Lightweight interface icon"></a>
        <a href="https://dppn.readingfaithfully.org" title="A lightweight interface the Dictionary of Pali Proper Names"
            rel="noreferrer" target="_blank"><img width="20px" src="./images/favicon-dppn-black.png"
                alt="DPPN search icon"></a>
        <a href="https://github.com/o28o/fdg#readme" title="The source code for this site" rel="noreferrer"
            target="_blank"><img width="20px" src="./images/GitHub-Mark-64px-black.png" alt="GitHub icon"></a>
    </div>
    <script src="/assets/js/dpr.js"></script>
    <script src="index.js" defer></script>
	    <script src="/assets/js/switchView.js"></script>

	  <script src="/assets/js/smoothScroll.js"defer></script>
	
    <script src="randPlaceholder.js"></script>
    <script>
      var theLanguage = $('html').attr("lang");
      randPlaceholder(theLanguage);
    </script>  

<script>

// Event listener to submit the form when Enter key is pressed
var input = document.getElementById("paliauto");
input.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    event.preventDefault();
    document.getElementById("searchbtn").click();
  }
});


// Поместить курсор в конец строки в поле ввода
input.focus();
input.setSelectionRange(input.value.length, input.value.length);
</script>
<script>
$.ajax({
  url: "/assets/texts/sutta_words.txt",
  dataType: "text",
  success: function(data) {

    var accentMap = {
      "ā": "a",
      "ī": "i",
      "ū": "u",
      "ḍ": "d",
      "ḷ": "l",
      "ṁ": "n",
      "ṁ": "m",
      "ṅ": "n",
      "ṇ": "n",
      "ṭ": "t",
      "ñ": "n",
      "ññ": "n",
      "ss": "s",
      "aa": "a",
      "ii": "i",
      "uu": "u",
      "dd": "d",
      "kk": "k",
      "ḍḍ": "d",
      "ḷḷ": "l",
      "ṇṇ": "n",
      "ṭṭ": "t",
      "cc": "c",
      "pp": "p",
	  "cch": "c",
      "ch": "c",
      "kh": "k",
      "ph": "p",
      "th": "t",
      "ṭh": "t"
    };

    var normalize = function(term) {
      var ret = "";
      for (var i = 0; i < term.length; i++) {
          ret += accentMap[term.charAt(i)] || term.charAt(i);
      }
      return ret;
    };

    var allWords = data.split('\n');

    $("#paliauto").autocomplete({
      position: {
        my: "left bottom",
        at: "left top",
        collision: "flip"
      },
      minLength: 0,
      multiple: /[\s\*]/, // изменение регулярного выражения для разделения по пробелу или звездочке
      source: function(request, response) {
        var terms = request.term.split(/[\|\s\*]/); // изменение регулярного выражения для разделения по пробелу или звездочке или |
        var lastTerm = terms.pop().trim();
        var otherMinLength = 3;

        if (lastTerm.length < otherMinLength) {
          response([]);
          return;
        }

        var re = $.ui.autocomplete.escapeRegex(lastTerm);
        var matchbeginonly = new RegExp("^" + re, "i");
        var matchall = new RegExp(re.replace(/([a-z])\1/gi, "$1$1"), "i");

        var listBeginOnly = $.grep(allWords, function(value) {
          value = value.label || value.value || value;
          var results = matchbeginonly.test(value) || matchbeginonly.test(normalize(value));
          return results;
        });

        var listAll = $.grep(allWords, function(value) {
          value = value.label || value.value || value;
          var results = matchall.test(value) || matchall.test(normalize(value));
          return results;
        });

        listAll = listAll.filter(function(el) {
          return !listBeginOnly.includes(el);
        });

        // Ограничение количества подсказок до 10
        var maxRecord = 1000;
        var resultList = listBeginOnly.concat(listAll).slice(0, maxRecord);

        response(resultList);
      },
      focus: function(event, ui) {
        // Удаляем автоматическое введение при наведении мыши
        return false;
      },
      select: function(event, ui) {
  var terms = this.value.split(/([\|\s\*])/);
  terms.pop();
  terms.push(ui.item.value);
  
  for (var i = 1; i < terms.length; i += 2) {
    if (terms[i] === "*") {
      terms[i] = "*";
    } else if (terms[i] === "|") {
      terms[i] = "|";
    } else {
      terms[i] = " ";
    }
  }

  this.value = terms.join("");
  return false;
}

    }).autocomplete("widget").addClass("fixed-height");
  }
});
</script>
<!-- <script>
$(document).ready(function() {
  // Обработчик для нажатия клавиши Enter
  $(document).on('keydown', function(event) {
    if (event.key === 'Enter') {
      $('#collapseSettings').collapse('hide'); // Здесь меняем 'toggle' на 'hide'
     $('#navbarResponsive').collapse('hide');
    }
  });

  // Обработчик для отправки формы
  $('#searchbtn').on('click', function() {
    $('#collapseSettings').collapse('hide'); // Здесь меняем 'toggle' на 'hide'
          $('#navbarResponsive').collapse('hide');
  });
});
</script> -->
<!-- <script src="/assets/js/bootstrap.bundle.5.3.1.min.js"></script> -->

<script defer src="/assets/js/themeswitch.js"></script>
<script src="/assets/js/copyToClipboard.js"></script>


<button id="match-button-clear" onclick="clearParam()">Clear Param</button>

<script>
function clearParam() {
  var urlParams = new URLSearchParams(window.location.search);
  if (urlParams.has('s')) {
    urlParams.delete('s');
    var newUrl = window.location.origin + window.location.pathname + '?' + urlParams.toString();
    window.history.replaceState({}, '', newUrl);
  }
  
  var finderElements = document.querySelectorAll('b.finder');
  finderElements.forEach(function(element) {
    element.outerHTML = element.innerHTML;
  });
  
  var hiddenLinks = document.querySelectorAll('a[href*="s="][onclick^="copyToClipboard"]');
  hiddenLinks.forEach(function(link) {
    var url = new URL(link.getAttribute('onclick').match(/'(.*?)'/)[1]);
    url.searchParams.delete('s');
    link.setAttribute('onclick', `copyToClipboard('${url.toString()}')`);
  });
}

window.onload = function() {
  var urlParams = new URLSearchParams(window.location.search);
  if (urlParams.has('s')) {
    document.getElementById('match-button-clear').style.display = 'block';
  }
};
</script>


 <!-- <script>
    // Получаем текущий хостнейм
    var hostname = window.location.hostname;

    // Создаем элемент скрипта
    var scriptElement = document.createElement('script');

    // Устанавливаем атрибуты скрипта в зависимости от хостнейма
    if (hostname === "localhost") {
      scriptElement.src = "/assets/js/fontawesome.6.1.all.js";
      scriptElement.defer = true;
    } else {
      scriptElement.src = "https://kit.fontawesome.com/a2bd6cd99e.js";
      scriptElement.crossOrigin = "anonymous";
      scriptElement.defer = true;
    }

    // Вставляем созданный скрипт в тег head
    document.head.appendChild(scriptElement);
  </script>-->
</body>
</html>
